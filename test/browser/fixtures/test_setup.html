<!doctype html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<title>Test Setup</title>
	<script type="text/javascript">
		isIE = isIE8 = isIE9 = isIE10 = false;
		isStandAlone = (window.parent === window.top);
		template = document.location.href.replace(/.*\/([a-z_]+).html/, "$1");
		if (typeof console === 'undefined') {
			console = {            log : function(msg) { false && alert(msg)}         };
		}
		console.debug = console.debug || function(msg) { console.log("DEBUG: " + msg)};
		console.debug('loading ' + template);

		if (isStandAlone) {
			// this is shown out of the test harness
			//alert('stand alone!');
		} else {
			window.parent.iframe.beforeLoad(window, document);
		}
	</script>
	<!--[if lt IE 8]><script type="text/javascript">alert('this browser is not supported')</script><![endif]-->
	<!--[if IE 8]><script type="text/javascript">isIE = isIE8 = true;</script><![endif]-->
	<!--[if IE 9]><script type="text/javascript">isIE = isIE9 = true;</script><![endif]-->
	<!--[if gt IE 9]><script type="text/javascript">isIE = isIE10 = true;</script><![endif]-->
	<link rel="stylesheet" href="test.css"/>
</head>
<body>
	<div id="console_log"></div>
	
	<!-- ################################################################################################### -->
	<!-- Fixtrue content START ############################################################################# -->
	<!-- ################################################################################################### -->
	<div class="fixture_content"> 
		<h1>Test Setup</h1>

		<p>
			This is a very basic template test file with the basic setup
		</p>

		<div id="dynamic"><b>THIS SHOULD HAVE BEEN CHANGED</b></div>
		<script type="text/javascript">
			document.getElementById('dynamic').innerHTML = 'Dynamic content';

			window.onresize = function() {
				console.debug('resizing ' + template);
				setTimeout(function() {
					document.getElementById('dynamic').innerHTML = document.body.clientWidth + 'px';
				}, 600);
			};
		</script>
	</div>
	<!-- ################################################################################################### -->
	<!-- Fixtrue content END ############################################################################### -->
	<!-- ################################################################################################### -->
	
	<!-- Final test setup -->
	<script type="text/javascript"> 
		// make sure es5-shim.js is not applied 
		var isShimApplied = (isIE8) && typeof Array.isArray == 'function';

		var orgOnload = window.onload || function() {};
		window.onload = function() {
			orgOnload();
			if (!isStandAlone) {
				// trigger test start
				window.parent.iframe.readyForTest(window, document);
			}
		};
	</script> 
</body>
</html> 